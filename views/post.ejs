<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Danger in My Heart</title>

  <!-- BEGIN: seo-tags -->
<meta name="description" content="Dive into the daily life of a [your age]-year-old male student navigating the challenges and triumphs of school, personal growth, and self-discovery. Find relatable experiences, honest reflections, and a supportive community.">
<meta name="keywords" content="male student diary,
student life experiences,
personal growth journey,
challenges and triumphs of young men,
self-discovery tips,
relatable stories for young men,
supportive community for students,
depression,
sucide,
die">
<meta name="author" content="itsmoah">
<!-- END: seo-tags -->

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
  <style>
    /* Header styles */
    header {
      background-color: #f5f5f5;
      padding: 20px 0;
    }

    .logo {
      font-size: 2em;
      font-weight: bold;
    }

    /* Footer styles */
    footer {
      background-color: #f0f0f0;
      padding: 10px;
      text-align: center;
    }
  </style>
</head>

<body class="bg-gray-100">

  <header class="container mx-auto px-4 flex justify-between items-center">
    <h1 class="logo text-2xl font-bold">Danger In My Heart</h1>
    <nav>
      <a href="#" class="px-3 hover:text-blue-500">Home</a>
      <a href="/about" class="px-3 hover:text-blue-500">About</a>
      <a href="/contact" class="px-3 hover:text-blue-500">Contact</a>
    </nav>
  </header>

  <div class="container mx-auto px-4 py-8">
    <h4 class="text-3xl font-mid text-center mb-8">What i am thinking, in days when i am about to die soon</h4>

    <ul class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <% todos.forEach(function(todo) { %>
      <li class="rounded-lg shadow-md bg-white overflow-hidden p-4 flex flex-col items-start justify-between">
        <% if (todo.image) { %>
        <img src="<%= todo.image %>" alt="Blog image" class="w-full mb-4 object-cover">
        <% } %>
        <p class="text-xl font-medium text-gray-800 leading-relaxed">
          <%= todo.task %>
        </p>
        <div class="flex items-center mt-4">
          <span class="text-gray-500 text-sm mr-2">Written by</span>
          <span class="text-gray-800 font-medium">
            <%= todo.name %>
          </span>
          <!-- show timestamp form todo object -->
            <span class="text-gray-500 text-sm ml-2">
                <%= todo.createdAt.toLocaleDateString() %> <%= todo.createdAt.toLocaleTimeString() %>
            </span>
        <!-- adding like button to increase value of likes onbject of todo -->
        <form action="/tasks/<%= todo._id %>/like" method="post" class="inline-block">
            <button type="submit" id="likeButton" class="px-4 py-2 text-gray-600 hover:text-blue-500">Like</button>
          </form>
          <script>
            const likeButton = document.getElementById("likeButton");
            let lastLikeTime = null;
          
            likeButton.addEventListener("click", function() {
              // Disable button and display message
              this.disabled = true;
              this.textContent = "Liked! Wait an hour to like again.";
          
              lastLikeTime = Date.now();
          
              const intervalId = setInterval(() => {
                const currentTime = Date.now();
                const timeDifference = currentTime - lastLikeTime;
                const hoursPassed = timeDifference / 3600000;
          
                if (hoursPassed >= 1) {
                  clearInterval(intervalId);
                  likeButton.disabled = false;
                  likeButton.textContent = "Like";
                  lastLikeTime = null;
                }
              }, 1000); // Check every second, adjust as needed
            });
          </script>
        <span class="text-gray-800 font-medium">
            <%= todo.likes %>
        </span>

        </div>
      </li>
      <% }); %>
    </ul>

    <a href="/post" class="inline-block bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full mt-4">Admin</a>
  </div>

  <footer class=" bg-gray-800 text-white ">
     <div class="container mx-auto">
      <p>Copyright &copy; 2024 My Blog</p>
    </div>
  </footer>
  
  

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>

</html>
